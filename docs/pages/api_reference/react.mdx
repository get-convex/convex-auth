# react

React bindings for Convex Auth.

## useAuthActions()


Use this hook to access the `signIn` and `signOut` methods:

```ts
import { useAuthActions } from "@convex-dev/auth/react";

function SomeComponent() {
  const { signIn, signOut } = useAuthActions();
  // ...
}
```

<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Returns</h3>

[`ConvexAuthActionsContext`](react.mdx#convexauthactionscontext)

<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Defined in</h3>

[src/react/index.tsx:28](https://github.com/get-convex/convex-auth/blob/main/src/react/index.tsx#L28)

***

## ConvexAuthProvider()


Replace your `ConvexProvider` with this component to enable authentication.

```tsx
import { ConvexAuthProvider } from "@convex-dev/auth/react";
import { ConvexReactClient } from "convex/react";
import { ReactNode } from "react";

const convex = new ConvexReactClient(/* ... */);

function RootComponent({ children }: { children: ReactNode }) {
  return <ConvexAuthProvider client={convex}>{children}</ConvexAuthProvider>;
}
```

<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Parameters</h3>

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `__namedParameters` | `object` | - |
| `__namedParameters.client` | `ConvexReactClient` | Your [`ConvexReactClient`](https://docs.convex.dev/api/classes/react.ConvexReactClient). |
| `__namedParameters.storage`? | [`TokenStorage`](react.mdx#tokenstorage) | Optional custom storage object that implements the [TokenStorage](react.mdx#tokenstorage) interface, otherwise [`localStorage`](https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage) is used. You must set this for React Native. |
| `__namedParameters.storageNamespace`? | `string` | Optional namespace for keys used to store tokens. The keys determine whether the tokens are shared or not. Any non-alphanumeric characters will be ignored (for RN compatibility). Defaults to the deployment URL, as configured in the given `client`. |
| `__namedParameters.replaceURL`? | (`relativeUrl`) => `void` \| `Promise`\<`void`\> | Provide this function if you're using a JS router (Expo router etc.) and after OAuth or magic link sign-in the `code` param is not being erased from the URL. The implementation will depend on your chosen router. |
| `__namedParameters.children` | `ReactNode` | Children components can call Convex hooks and [useAuthActions](react.mdx#useauthactions). |

<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Returns</h3>

`Element`

<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Defined in</h3>

[src/react/index.tsx:47](https://github.com/get-convex/convex-auth/blob/main/src/react/index.tsx#L47)

***

## TokenStorage

A storage interface for storing and retrieving tokens and other secrets.

In browsers `localStorage` and `sessionStorage` implement this interface.

`sessionStorage` can be used for creating separate sessions for each
browser tab.

In React Native we recommend wrapping `expo-secure-store`.

<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Properties</h3>

#### getItem()


Read a value.

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Parameters</h5>

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `key` | `string` | Unique key. |

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Returns</h5>

`undefined` \| `null` \| `string` \| `Promise`\<`undefined` \| `null` \| `string`\>

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Defined in</h5>

[src/react/index.tsx:152](https://github.com/get-convex/convex-auth/blob/main/src/react/index.tsx#L152)

#### setItem()


Write a value.

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Parameters</h5>

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `key` | `string` | Unique key. |
| `value` | `string` | The value to store. |

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Returns</h5>

`void` \| `Promise`\<`void`\>

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Defined in</h5>

[src/react/index.tsx:160](https://github.com/get-convex/convex-auth/blob/main/src/react/index.tsx#L160)

#### removeItem()


Remove a value.

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Parameters</h5>

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `key` | `string` | Unique key. |

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Returns</h5>

`void` \| `Promise`\<`void`\>

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Defined in</h5>

[src/react/index.tsx:165](https://github.com/get-convex/convex-auth/blob/main/src/react/index.tsx#L165)

***

## ConvexAuthActionsContext


The result of calling [useAuthActions](react.mdx#useauthactions).

<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Type declaration</h3>

#### signIn()


<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Parameters</h5>

| Parameter | Type | Description |
| ------ | ------ | ------ |
| `provider` | `string` | The ID of the provider (lowercase version of the provider name or a configured `id` option value). |
| `params`? | `FormData` \| `Record`\<`string`, `Value`\> & `object` | Either a `FormData` object containing the sign-in parameters or a plain object containing them. The shape required depends on the chosen provider's implementation. |

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Returns</h5>

`Promise`\<`object`\>

Whether the user was immediately signed in (ie. the sign-in
         didn't trigger an additional step like email verification
         or OAuth signin).

###### signingIn

> **signingIn**: `boolean`

Whether the call led to an immediate successful sign-in.

Note that there's a delay between the `signIn` function
returning and the client performing the handshake with
the server to confirm the sign-in.

###### redirect?

> `optional` **redirect**: `URL`

If the sign-in started an OAuth flow, this is the URL
the browser should be redirected to.

Useful in RN for opening the in-app browser to
this URL.

#### signOut()


Sign out the current user.

Calls the server to invalidate the server session
and deletes the locally stored JWT and refresh token.

<h5 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-lg">Returns</h5>

`Promise`\<`void`\>

<h3 class="nx-font-semibold nx-tracking-tight nx-text-slate-900 dark:nx-text-slate-100 nx-mt-8 nx-text-2xl">Defined in</h3>

[src/react/index.tsx:171](https://github.com/get-convex/convex-auth/blob/main/src/react/index.tsx#L171)
